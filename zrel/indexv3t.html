
<!DOCTYPE html>
<html lang="en">    
    <head>
        <title>SMCF_PROTO_V0.28</title>
        <base href="" target="_blank"><!--<base href="/xframe/" target="_blank">--><!--IF serve APP Host route/ -->
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/main.css">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <meta name="robots" content="noindex, nofollow"> 
    </head>
    <body>
        <script src="js/ext/socket.io.js"></script>
        <script src='js/ext/TweenMax.min.js'></script>
        <script src='js/ext/gsap-latest-beta.min.js'></script>
        <script src="js/ext/jquery-3.2.1.min.js"></script>
        <script src="js/frame/basesession.js"></script>
        <script src="js/frame/slimeball.js"></script>
        
        <script type="module">
            import '/js/components/nav-menu.js';    // navMenu
            import '/js/components/search-mod.js';  // searchMod  
            import '/js/components/clear-frame.js'; // hyperFrame  import './js/clear-frame.js' // self clearing iFrame 
            import '/js/components/log-term.js';    // logTerm     
            import '/js/components/ticker-tape.js';
            import '/js/components/news-feed.js';
            import SessionModel from '/js/frame/sessionmodel.js'
            import InputController from '/js/frame/inputcontroller.js'
            function ready() {
                
                const model = new SessionModel()
                const controller = new InputController( model )
                
                addEventListener('navEvent', controller.onNavEvent, true );
                addEventListener('logEvent', controller.onLogEvent, true );
                addEventListener('authEvent', controller.onAuthEvent, true );
                
                addEventListener('navEvent', clearframe.onNavEvent , true );
                addEventListener('navEvent', navmenu.onNavEvent , true );
                addEventListener('logEvent', logterm.onLogEvent , true );
                addEventListener('authEvent', function(e){ console.log('BSE:',e,e.detail) }, true)
            }
            document.addEventListener( "DOMContentLoaded", ready );
        </script>
        <clear-frame id="clearframe"></clear-frame>
        <log-term id="logterm"></log-term>
        <search-mod id="searchmod"></search-mod>
        <ticker-tape id='tickertape'></ticker-tape>
        <news-feed id='newsfeed'></news-feed>        
        <nav-menu id="navmenu"></nav-menu>
        <script>
            var requestURL = "/data/comodhashes.json";
            document.addEventListener('DOMContentLoaded', function(e){
                $.ajax({
                    url: requestURL,
                    type: "GET",
                    contentType: 'application/json;charset=UTF-8',
                    data: {
                        //'selected': document.getElementById('first_cat').value
                        'selected':'bars'
                    },
                    dataType:"json",
                    success:function ( data){                    
                        tickertape.onDataUpdate( data )
                        gridpanel.onDataUpdate( data )
                        newsfeed.onDataUpdate( {nodes:[{symbol:'NEWS ITEM DYNAMIC 1'},
                                {symbol:'BTC ROLLING LOUD BIG NEWS ITEM DYNAMIC 2'},
                                {symbol:'NEWS ITEM DYN44 TO THE RESCUE'},
                                {symbol:'ETHER BTC BRIDGE PUMPING JAMMING EXCITEMENT'},
                                {symbol:'FANTASTIC MOTTO M$ ROBOTO BTC UPROADING'},
                                {symbol:'NASDAQ GIANT DIP HAPPENING NOW BIGGEST DIP EVER'},
                                {symbol:'WORDLER 5000000 MAKERS LARGER HEAD'}] } )
                    }.bind(this)
                });
            }, false);
            document.addEventListener('DOMContentLoaded', function(e){
                $.ajax({
                    url: "/data/news.json",
                    type: "GET",
                    contentType: 'application/json;charset=UTF-8',
                    data: {
                        //'selected': document.getElementById('first_cat').value
                        'selected':'bars'
                    },
                    dataType:"json",
                    success:function ( data){
                        newsfeed.onDataUpdate( {nodes:[{symbol:'NEWS ITEM DYNAMIC 1'},
                                { symbol:'BTC ROLLING LOUD BIG NEWS ITEM DYNAMIC 2'},
                                {symbol:'NEWS ITEM DYN %%$44'},
                                {symbol:'WORDLER 5000000 MAKERS LARGER HEAD'}] } )
                        l = 33
                    }.bind(this)
                });
            }, false);
        </script>        
    </body>
</html>